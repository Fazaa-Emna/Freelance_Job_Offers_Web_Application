{% extends 'base.html.twig' %}


       
{% block body %}
   
     <div class="job-listing-area pt-120 pb-120">
            <div class="container">
                <div class="row">
                    <!-- Left content -->
                    <div class="col-xl-3 col-lg-3 col-md-4">
                        <div class="row">
                            <div class="col-12">
                                    <div class="small-section-tittle2 mb-45">
                                    
                             
                                </div>
                            </div>
                        </div>
                     
                        <!-- Job Category Listing End -->
                    </div>
                    <!-- Right content -->
                    <div class="col-xl-9 col-lg-9 col-md-8">
                        <!-- Featured_job_start -->
                       
     <section class="featured-job-area">
                    <!-- Right content -->
                    <div class="col-xl-9 col-lg-9 col-md-8">
                        <!-- Featured_job_start -->
                        <section class="featured-job-area">
                            <div class="container">
                                <!-- Count of Job list Start -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="count-job mb-35">
  
          <form method="get">
        <input type="text" name="query" placeholder="course Name"  class="placeholder hide-on-focus" onfocus="this.placeholder = ''"
       onblur="this.placeholder = ' course Name '" value="{{ query }}">
        <button type="submit" class="genric-btn primary small">Search</button>
    </form>
                                            <!-- Select job items start -->
                                            <div class="select-job-items">
                                                <span>Sort Price</span>
                                              
                                                <div>
									<form role="search" id="nav-search-form" method="post" action="{{ path('/course/triASC') }}">
										<div class="btn-toolbar" role="toolbar" aria-label="Programmatic control">
											<div class="btn-group btn-group-sm" aria-label="Set Select2 option">
												<button class="js-programmatic-set-val btn btn-outline-primary mr-1 mb-1">
													 Asc
												</button>
											</div>
										</div>

									</form>
									</div>
   <div>
									<form role="search" id="nav-search-form" method="post" action="{{ path('/course/triDESC') }}">
										<div class="btn-toolbar" role="toolbar" aria-label="Programmatic control">
											<div class="btn-group btn-group-sm" aria-label="Set Select2 option">
												<button class="js-programmatic-set-val btn btn-outline-primary mr-1 mb-1">
													 Desc
												</button>
											</div>
										</div>

									</form>
									</div>
                                            </div>
                                           
                                            
                                   <div>
                                  <form action="" method="get" id="my-form">
  <select name="category" id="my-select">
    <option value="all">All Categories</option>
    <option value="mathematics">Mathematics</option>
    <option value="marketing">Marketing</option>
    <option value="business">Business</option>
    <option value="development">Development</option>
  </select>
  <div class="btn-toolbar" role="toolbar" aria-label="Programmatic control">
											<div class="btn-group btn-group-sm" aria-label="Set Select2 option">
												<button type="submit" class="js-programmatic-set-val btn btn-outline-primary mr-1 mb-1">
													 Filter
												</button>
											</div>
  
</form>
        </div>
<script>
  const myForm = document.querySelector('#my-form');
  const mySelect = document.querySelector('#my-select');
  myForm.addEventListener('submit', (event) => {
    event.preventDefault(); // prevent default form submission
    const selectedValue = mySelect.value; // get the selected value
    const newAction = `{{ path('course_filter', {'category': '__value__'}) }}`.replace('__value__', selectedValue);
    myForm.action = newAction; // update the form action
    myForm.submit(); // submit the form
  });
</script>
                                </div>
                                
                                            <!--  Select job items End-->
                                        </div>
                                    </div>
                                </div>
                                <!-- Count of Job list End -->
                                <!-- single-job-content -->
                                  {% for course in pagination %}
               <div class="single-job-items mb-30">
                                    <div class="job-items">
                                        <div class="company-img">
                                     
                                            <a href="#"><img src= "{{ asset('assets/img/' ~ course.photo) }}" alt="" width="300" height="150"> </a>
                                        </div>
                                        <div class="job-tittle job-tittle2">
                                            <a  href="{{ path('app_course_show', {'cid': course.cid}) }}" >
                                                <h4>{{ course.title }} </h4>
                                            </a>
                                            <ul>
                                                <li>{{course.category}}</li>
                                                <li>{{ course.price }}$</li>
                                            </ul>
                                        </div>
                                    </div>
                                   
                                </div>
                                 {% else %}
                          <tr>
                        <td colspan="7">no records found</td>
                      </tr>
                    {% endfor %}
                                
                  </div>
                  </section>
                    <div class="text-center">
    {{ knp_pagination_render(pagination) }}
</div>

                    </div>
                </div>
            </div>
        </div>
  
{% endblock %}