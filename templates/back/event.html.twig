{% extends 'back.html.twig' %}

{% block title %}Event {% endblock %}

{% block body %}

<div class="input-group no-border">

    <input type="text" value="" class="form-control" placeholder="Search for..." id="myInput">
    <table class="table" id="t">
        <thead>
            <tr>
                <th>EventId</th>
                <th>EventName</th>
                <th>Description</th>
                <th>StartDate</th>
                <th>EndDate</th>
                <th>Location</th>
                <th>MaxAttendees</th>
                <th>Registrationdeadline</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody id="myTable">
        {% for event in events %}
            <tr>
                <td>{{ event.eventId }}</td>
                <td>{{ event.eventName }}</td>
                <td>{{ event.description }}</td>
                <td>{{ event.startDate ? event.startDate|date('Y-m-d') : '' }}</td>
                <td>{{ event.endDate ? event.endDate|date('Y-m-d') : '' }}</td>
                <td>{{ event.location }}</td>
                <td>{{ event.maxAttendees }}</td>
                <td>{{ event.registrationdeadline ? event.registrationdeadline|date('Y-m-d') : '' }}</td>
                <td>
                     <form method="post" action="{{ path('event_delete', {'eventId': event.eventId}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
    <input type="hidden" name="_token" value="{{ csrf_token('deleteE' ~ event.eventId) }}">
    <button class="btn" class="genric-btn info circle" >Delete</button>
</form>
           
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="9">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

  

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#myInput").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
{% endblock %}
